<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script type="text/javascript">

    //const rps = ['Rock','Paper','Scissors'];

    let round = 5;
    let cpuScore = 0;
    let playerScore = 0;

    function computerPlay() {
      switch (Math.floor(Math.random() * 3)) {
        case 0: return "rock";
        break;
        case 1: return "paper";
        break
        case 2: return "scissors";
        break;
      }
    }
  
    function rpsRound (playerSelection, computerSelection) {

      console.log("Player: " + playerSelection);
      console.log("Computer: " + computerSelection); 
          
      switch (playerSelection) {
        
        case "rock":
        switch (computerSelection) {
                case "rock": console.log("Draw.");
                  if (round <= 5) {round = round + 1};
                break;
                case "paper": 
                  console.log("Paper beats rock.");
                  ++cpuScore;
                break;
                case "scissors": 
                  console.log("Rock beats scissors.");
                  ++playerScore;
                break; 
          }
          break;
        case "paper":
        switch (computerSelection) {
                case "rock": 
                  console.log("Paper beats rock.");
                  ++playerScore;
                break;
                case "paper": console.log("Draw.");
                  if (round <= 5) {round = round + 1};
                break;
                case "scissors": 
                  console.log("Scissors beats paper.");
                  ++cpuScore;
                break;
          }
          break;
        case "scissors":
        switch (computerSelection) {
                case "rock": 
                  console.log("Rock beats scissors.");
                  ++cpuScore;
                break;
                case "paper": 
                  console.log("Scissors beats paper.");
                  ++playerScore;
                break;
                case "scissors": 
                  console.log("Draw!");
                  if (round <= 5) {round = round + 1};
                break;
        }
        break;
      }
    }
  
    function game() {
        
      console.log("************");
      round = 5;
      cpuScore = 0;
      playerScore = 0;
      roundCounter = 1
      if (playerSelection = null) {
        console.log("Restart game.");
        game();
      }



      while (round > 0){ 
        console.log("Round " + roundCounter);
        computerPlay();
        computerSelection = computerPlay();
        playerSelection = prompt("Type either Rock, Paper or Scissors.").toLowerCase();
        switch (playerSelection){
          case "rock":
              alert("You chose rock");
              break;
          case "paper": 
              alert("You chose paper");
              break;
          case "scissors":
              alert("You chose scissors");
              break;
          default: 
              playerSelection = computerPlay();
              alert("Invalid selection. You were randomed " + playerSelection);

        }
        rpsRound(playerSelection, computerSelection);
        round = round - 1;
        console.log("Your Score: " + playerScore + "  CPU Score: " + cpuScore);
        console.log("************");
        ++roundCounter;
        
        if (playerScore >= 3) {
        round = 0;
        console.log("YOU WIN THE GAME");
      }
        if (cpuScore >= 3) {
        round = 0;
        console.log("YOU LOSE THE GAME");
      }
     } 

    }


    


  </script>
</body>
</html>